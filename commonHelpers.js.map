{"version":3,"file":"commonHelpers.js","sources":["../src/js/reviews.js","../src/js/header.js"],"sourcesContent":["import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\ndocument.addEventListener('DOMContentLoaded', fetchReviews);\n\nfunction fetchReviews() {\n  fetch('https://portfolio-js.b.goit.study/api/reviews')\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Bad request, please try again');\n      }\n      return response.json();\n    })\n    .then(reviews => {\n      //рисует карточки\n      const reviewsList = document.querySelector('.reviews-list');\n\n      reviewsList.innerHTML = createDisplayReviews(reviews);\n    })\n    .catch(error => {\n      console.error(error);\n    });\n  swiper();\n}\n\n// создание слайдера с помощью библиотеки\nfunction swiper() {\n  new Swiper('.reviews-swiper', {\n    // Optional parameters обязательніе\n    loop: false,\n    slidesPerView: 4,\n    spaceBetween: 10,\n\n    // Navigation arrows\n    navigation: {\n      nextEl: '.reviews-btn-right',\n      prevEl: '.reviews-btn-left',\n    },\n    breakpoints: {\n      // when window width is >= 320px\n      320: {\n        slidesPerView: 1, // количество на моб версии\n        spaceBetween: 20,\n      },\n      768: {\n        slidesPerView: 2,\n        spaceBetween: 20,\n      },\n      1200: {\n        slidesPerView: 4,\n        spaceBetween: 20,\n      },\n    },\n  });\n}\n\n// функция создания карточек\nfunction createDisplayReviews(reviews) {\n  const reviewsList = document.querySelector('.reviews-list');\n  reviewsList.innerHTML = ''; // убираю данніе с html\n\n  return reviews\n    .map(\n      review =>\n        `<li class=\"reviews-item swiper-slide\">\n        <img src=\"${review.avatar_url}\" alt=\"${review.author}\" class=\"reviews-img\" width=\"48\" height=\"48\">\n        <h2 class=\"reviews-h\">${review.author}</h2>\n        <p class=\"reviews-p\">${review.review}</p>\n    </li>`\n    )\n    .join('');\n}\n","'use strict';\n\nexport default (() => {\n  const openBtn = document.querySelector('.header-menu-btn');\n  const closeBtn = document.querySelector('.close-btn');\n  const modalMenu = document.querySelector('.backdrop');\n\n  if (!openBtn || !closeBtn || !modalMenu) {\n    console.warn('Missing DOM elements');\n    return;\n  }\n\n  const preventTouch = e => {\n    if (!modalMenu.contains(e.target)) {\n      e.preventDefault();\n    }\n  };\n\n  const addBodyScrollPrevention = () => {\n    document.body.classList.add('scroll-lock');\n    document.body.addEventListener('touchmove', preventTouch, {\n      passive: false,\n    });\n  };\n\n  const removeBodyScrollPrevention = () => {\n    document.body.classList.remove('scroll-lock');\n    document.body.removeEventListener('touchmove', preventTouch);\n  };\n\n  const toggleMenu = () => {\n    const isOpen = openBtn.getAttribute('aria-expanded') === 'true';\n    openBtn.setAttribute('aria-expanded', !isOpen);\n    modalMenu.classList.toggle('is-open');\n\n    document.body.style.overflow = isOpen ? '' : 'hidden';\n    modalMenu.style.overflow = 'auto';\n\n    if (!isOpen) {\n      addBodyScrollPrevention();\n    } else {\n      removeBodyScrollPrevention();\n    }\n\n    const menuAnchors = document.querySelectorAll('a.modal-nav-link');\n    menuAnchors.forEach(anchor => {\n      if (!isOpen) {\n        anchor.addEventListener('click', toggleMenu);\n      } else {\n        anchor.removeEventListener('click', toggleMenu);\n      }\n    });\n  };\n\n  openBtn.addEventListener('click', toggleMenu);\n  closeBtn.addEventListener('click', toggleMenu);\n\n  const mediaQuery = window.matchMedia('(max-width: 1199px)');\n  const mediaQueryHandler = e => {\n    if (!e.matches && modalMenu.classList.contains('is-open')) {\n      toggleMenu();\n    }\n  };\n  mediaQuery.addEventListener('change', mediaQueryHandler);\n\n  if (modalMenu.classList.contains('is-open')) {\n    addBodyScrollPrevention();\n  } else {\n    removeBodyScrollPrevention();\n  }\n})();\n"],"names":["fetchReviews","response","reviews","reviewsList","createDisplayReviews","error","swiper","Swiper","review","openBtn","closeBtn","modalMenu","preventTouch","e","addBodyScrollPrevention","removeBodyScrollPrevention","toggleMenu","isOpen","anchor","mediaQuery","mediaQueryHandler"],"mappings":"0xBAGA,SAAS,iBAAiB,mBAAoBA,CAAY,EAE1D,SAASA,GAAe,CACtB,MAAM,+CAA+C,EAClD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,+BAA+B,EAEjD,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAW,CAEf,MAAMC,EAAc,SAAS,cAAc,eAAe,EAE1DA,EAAY,UAAYC,EAAqBF,CAAO,CAC1D,CAAK,EACA,MAAMG,GAAS,CACd,QAAQ,MAAMA,CAAK,CACzB,CAAK,EACHC,GACF,CAGA,SAASA,GAAS,CAChB,IAAIC,EAAO,kBAAmB,CAE5B,KAAM,GACN,cAAe,EACf,aAAc,GAGd,WAAY,CACV,OAAQ,qBACR,OAAQ,mBACT,EACD,YAAa,CAEX,IAAK,CACH,cAAe,EACf,aAAc,EACf,EACD,IAAK,CACH,cAAe,EACf,aAAc,EACf,EACD,KAAM,CACJ,cAAe,EACf,aAAc,EACf,CACF,CACL,CAAG,CACH,CAGA,SAASH,EAAqBF,EAAS,CACrC,MAAMC,EAAc,SAAS,cAAc,eAAe,EAC1D,OAAAA,EAAY,UAAY,GAEjBD,EACJ,IACCM,GACE;AAAA,oBACYA,EAAO,UAAU,UAAUA,EAAO,MAAM;AAAA,gCAC5BA,EAAO,MAAM;AAAA,+BACdA,EAAO,MAAM;AAAA,UAEvC,EACA,KAAK,EAAE,CACZ,ECrEgB,IAAM,CACpB,MAAMC,EAAU,SAAS,cAAc,kBAAkB,EACnDC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAY,SAAS,cAAc,WAAW,EAEpD,GAAI,CAACF,GAAW,CAACC,GAAY,CAACC,EAAW,CACvC,QAAQ,KAAK,sBAAsB,EACnC,MACD,CAED,MAAMC,EAAeC,GAAK,CACnBF,EAAU,SAASE,EAAE,MAAM,GAC9BA,EAAE,eAAc,CAEtB,EAEQC,EAA0B,IAAM,CACpC,SAAS,KAAK,UAAU,IAAI,aAAa,EACzC,SAAS,KAAK,iBAAiB,YAAaF,EAAc,CACxD,QAAS,EACf,CAAK,CACL,EAEQG,EAA6B,IAAM,CACvC,SAAS,KAAK,UAAU,OAAO,aAAa,EAC5C,SAAS,KAAK,oBAAoB,YAAaH,CAAY,CAC/D,EAEQI,EAAa,IAAM,CACvB,MAAMC,EAASR,EAAQ,aAAa,eAAe,IAAM,OACzDA,EAAQ,aAAa,gBAAiB,CAACQ,CAAM,EAC7CN,EAAU,UAAU,OAAO,SAAS,EAEpC,SAAS,KAAK,MAAM,SAAWM,EAAS,GAAK,SAC7CN,EAAU,MAAM,SAAW,OAEtBM,EAGHF,IAFAD,IAKkB,SAAS,iBAAiB,kBAAkB,EACpD,QAAQI,GAAU,CACvBD,EAGHC,EAAO,oBAAoB,QAASF,CAAU,EAF9CE,EAAO,iBAAiB,QAASF,CAAU,CAInD,CAAK,CACL,EAEEP,EAAQ,iBAAiB,QAASO,CAAU,EAC5CN,EAAS,iBAAiB,QAASM,CAAU,EAE7C,MAAMG,EAAa,OAAO,WAAW,qBAAqB,EACpDC,EAAoBP,GAAK,CACzB,CAACA,EAAE,SAAWF,EAAU,UAAU,SAAS,SAAS,GACtDK,GAEN,EACEG,EAAW,iBAAiB,SAAUC,CAAiB,EAEnDT,EAAU,UAAU,SAAS,SAAS,EACxCG,IAEAC,GAEJ,GAAI"}